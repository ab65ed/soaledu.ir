# Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø³ÛŒØ³ØªÙ… ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ - Contact System Documentation

## ğŸ“‹ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

1. [Ù…Ø¹Ø±ÙÛŒ](#Ù…Ø¹Ø±ÙÛŒ)
2. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ…](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ø³ÛŒØ³ØªÙ…)
3. [Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§ÛŒ Frontend](#Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†ØªÙ‡Ø§ÛŒ-frontend)
4. [API Backend](#api-backend)
5. [Ù…Ø¯ÛŒØ±ÛŒØª State](#Ù…Ø¯ÛŒØ±ÛŒØª-state)
6. [Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ùˆ Ø§Ù…Ù†ÛŒØª](#Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ-Ùˆ-Ø§Ù…Ù†ÛŒØª)
7. [ØªØ³Øªâ€ŒÙ‡Ø§](#ØªØ³ØªÙ‡Ø§)
8. [Ø§Ø³ØªÙ‚Ø±Ø§Ø±](#Ø§Ø³ØªÙ‚Ø±Ø§Ø±)
9. [Ù†Ú©Ø§Øª Ø¹Ù…Ù„Ú©Ø±Ø¯](#Ù†Ú©Ø§Øª-Ø¹Ù…Ù„Ú©Ø±Ø¯)

---

## ğŸ¯ Ù…Ø¹Ø±ÙÛŒ

Ø³ÛŒØ³ØªÙ… ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ ÛŒÚ© Ø±Ø§Ù‡â€ŒØ­Ù„ Ú©Ø§Ù…Ù„ Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§ Ù¾Ù„ØªÙØ±Ù… Ø¢Ù…ÙˆØ²Ø´ÛŒ Exam-Edu Ø§Ø³Øª. Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ… Ø´Ø§Ù…Ù„ ÙØ±Ù… ØªÙ…Ø§Ø³ØŒ Ø¨Ø®Ø´ Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„ (FAQ)ØŒ Ùˆ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.

### ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ:
- âœ… ÙØ±Ù… ØªÙ…Ø§Ø³ Ø¨Ø§ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙØ§Ø±Ø³ÛŒ Ú©Ø§Ù…Ù„
- âœ… Ø³ÛŒØ³ØªÙ… FAQ Ø¢Ú©Ø§Ø±Ø¯Ø¦ÙˆÙ†ÛŒ Ø¨Ø§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
- âœ… Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§
- âœ… Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¨Ù†Ø¯ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯
- âœ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ RTL
- âœ… Ø·Ø±Ø§Ø­ÛŒ ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª state Ø¨Ø§ React Query
- âœ… Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­Ù„ÛŒ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† fallback
- âœ… Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Framer Motion

---

## ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (Next.js 14)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Contact Page (/app/contact/page.tsx)                        â”‚
â”‚ â”œâ”€â”€ ContactForm (molecules)                                 â”‚
â”‚ â”œâ”€â”€ FAQAccordion (organisms)                               â”‚
â”‚ â””â”€â”€ Contact Info Cards                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Hooks & Services                                            â”‚
â”‚ â”œâ”€â”€ useContactForm.ts                                       â”‚
â”‚ â””â”€â”€ contactApi.ts                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ State Management                                            â”‚
â”‚ â”œâ”€â”€ React Query                                             â”‚
â”‚ â””â”€â”€ localStorage Fallback                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ HTTP/REST API
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Backend (Express.js + Parse)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Contact Routes (/api/contact)                               â”‚
â”‚ â”œâ”€â”€ POST /          (Ø§ÛŒØ¬Ø§Ø¯ Ù¾ÛŒØ§Ù…)                           â”‚
â”‚ â”œâ”€â”€ GET /stats      (Ø¢Ù…Ø§Ø± Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§)                          â”‚
â”‚ â””â”€â”€ Protected Routes (Ø§Ø¶Ø§ÙÙ‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Contact Controller                                          â”‚
â”‚ â”œâ”€â”€ createContact                                           â”‚
â”‚ â”œâ”€â”€ getContacts                                             â”‚
â”‚ â”œâ”€â”€ getContactById                                          â”‚
â”‚ â”œâ”€â”€ updateContact                                           â”‚
â”‚ â”œâ”€â”€ deleteContact                                           â”‚
â”‚ â””â”€â”€ getContactStats                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Contact Model (Parse Object)                                â”‚
â”‚ â”œâ”€â”€ Auto-categorization                                     â”‚
â”‚ â”œâ”€â”€ Priority Management                                     â”‚
â”‚ â””â”€â”€ CRUD Operations                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ Parse SDK
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Parse Server / Back4App                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§ÛŒ Frontend

### 1. ContactForm Component

**Ù…Ø³ÛŒØ±:** `frontend/src/components/molecules/ContactForm.tsx`

```typescript
interface ContactFormProps {
  onSubmit: (data: ContactFormData) => Promise<void>;
  isLoading?: boolean;
}

interface ContactFormData {
  name: string;
  email: string;
  message: string;
}
```

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙØ§Ø±Ø³ÛŒ real-time
- Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ù…Ø­Ù„ÛŒ
- Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Framer Motion
- Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ loading Ùˆ error
- Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ RTL Ú©Ø§Ù…Ù„

**Ø§Ø³ØªÙØ§Ø¯Ù‡:**
```tsx
import { ContactForm } from '@/components/molecules/ContactForm';

<ContactForm 
  onSubmit={submitContactFormAsync}
  isLoading={isLoading}
/>
```

### 2. FAQAccordion Component

**Ù…Ø³ÛŒØ±:** `frontend/src/components/organisms/FAQAccordion.tsx`

```typescript
interface FAQAccordionProps {
  faqs: FAQItem[];
  defaultOpen?: string;
}

interface FAQItem {
  id: string;
  question: string;
  answer: string;
  category?: string;
}
```

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§:**
- Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø³ÙˆØ§Ù„Ø§Øª
- Ø§Ù†ÛŒÙ…ÛŒØ´Ù† expand/collapse
- Ø§Ù…Ú©Ø§Ù† Ø¨Ø§Ø² Ø¨ÙˆØ¯Ù† Ú†Ù†Ø¯ÛŒÙ† Ø¢ÛŒØªÙ… Ù‡Ù…Ø²Ù…Ø§Ù†
- Ø³ÙˆØ§Ù„Ø§Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶

**Ø§Ø³ØªÙØ§Ø¯Ù‡:**
```tsx
import { FAQAccordion } from '@/components/organisms/FAQAccordion';

<FAQAccordion 
  faqs={customFAQs}
  defaultOpen="1"
/>
```

### 3. Contact Page

**Ù…Ø³ÛŒØ±:** `frontend/src/app/contact/page.tsx`

ØµÙØ­Ù‡ Ú©Ø§Ù…Ù„ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§ Ø´Ø§Ù…Ù„:
- Header Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ
- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³
- ÙØ±Ù… ØªÙ…Ø§Ø³
- Ø¨Ø®Ø´ FAQ
- Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡

---

## ğŸ”§ API Backend

### Endpoints

#### 1. Ø§ÛŒØ¬Ø§Ø¯ Ù¾ÛŒØ§Ù… ØªÙ…Ø§Ø³
```http
POST /api/contact
Content-Type: application/json

{
  "name": "Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ",
  "email": "ali@example.com",
  "message": "Ø³Ù„Ø§Ù…ØŒ Ø³ÙˆØ§Ù„ Ø¯Ø± Ù…ÙˆØ±Ø¯...",
  "userAgent": "Mozilla/5.0...",
  "ipAddress": "192.168.1.1",
  "userId": "optional-user-id"
}
```

**Ù¾Ø§Ø³Ø® Ù…ÙˆÙÙ‚:**
```json
{
  "success": true,
  "message": "Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯",
  "data": {
    "id": "contact_id",
    "name": "Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ",
    "email": "ali@example.com",
    "message": "Ø³Ù„Ø§Ù…ØŒ Ø³ÙˆØ§Ù„ Ø¯Ø± Ù…ÙˆØ±Ø¯...",
    "status": "pending",
    "priority": "medium",
    "category": "general",
    "createdAt": "2025-01-27T..."
  }
}
```

#### 2. Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù…Ø§Ø± Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§
```http
GET /api/contact/stats
```

**Ù¾Ø§Ø³Ø®:**
```json
{
  "success": true,
  "data": {
    "total": 150,
    "pending": 25,
    "read": 50,
    "replied": 60,
    "closed": 15,
    "byPriority": {
      "low": 30,
      "medium": 80,
      "high": 35,
      "urgent": 5
    },
    "byCategory": {
      "general": 60,
      "technical": 40,
      "billing": 25,
      "feature_request": 15,
      "bug_report": 10
    }
  }
}
```

### Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±

Ø³ÛŒØ³ØªÙ… Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ù¾ÛŒØ§Ù…ØŒ Ø¢Ù† Ø±Ø§ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:

- **bug_report**: Ø®Ø·Ø§ØŒ Ø¨Ø§Ú¯ØŒ Ù…Ø´Ú©Ù„ â†’ Ø§ÙˆÙ„ÙˆÛŒØª Ø¨Ø§Ù„Ø§
- **feature_request**: Ù‚Ø§Ø¨Ù„ÛŒØªØŒ ÙˆÛŒÚ˜Ú¯ÛŒØŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ â†’ Ø§ÙˆÙ„ÙˆÛŒØª Ù…ØªÙˆØ³Ø·
- **technical**: ÙÙ†ÛŒØŒ ØªÚ©Ù†ÛŒÚ©Ø§Ù„ØŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ â†’ Ø§ÙˆÙ„ÙˆÛŒØª Ø¨Ø§Ù„Ø§
- **billing**: Ù¾Ø±Ø¯Ø§Ø®ØªØŒ Ù…Ø§Ù„ÛŒØŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ â†’ Ø§ÙˆÙ„ÙˆÛŒØª Ø¨Ø§Ù„Ø§
- **general**: Ø³Ø§ÛŒØ± Ù…ÙˆØ§Ø±Ø¯ â†’ Ø§ÙˆÙ„ÙˆÛŒØª Ù…ØªÙˆØ³Ø·

### Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¨Ù†Ø¯ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯

- **urgent**: ÙÙˆØ±ÛŒØŒ Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒØŒ Ù…Ù‡Ù…
- **high**: Ø³Ø±ÛŒØ¹ØŒ Ø®Ø·Ø§ØŒ Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- **low**: ÙˆÙ‚Øª Ø¯Ø§Ø±Ø¯ØŒ Ø¹Ø¬Ù„Ù‡ Ù†Ø¯Ø§Ø±Ø¯
- **medium**: Ù¾ÛŒØ´â€ŒÙØ±Ø¶

---

## ğŸ“Š Ù…Ø¯ÛŒØ±ÛŒØª State

### React Query Integration

```typescript
// Ù‡ÙˆÚ© Ø§Ø±Ø³Ø§Ù„ ÙØ±Ù…
export function useContactForm() {
  const submitContactForm = useMutation<ContactSubmissionResponse, Error, ContactFormData>({
    mutationFn: async (data: ContactFormData) => {
      return await contactApi.submitContactForm(data);
    },
    onSuccess: (response) => {
      queryClient.invalidateQueries({ queryKey: ['contact'] });
      queryClient.setQueryData(['contact', 'recent'], (oldData: any) => {
        if (!oldData) return [response];
        return [response, ...oldData.slice(0, 9)];
      });
    }
  });

  return {
    submitContactFormAsync: submitContactForm.mutateAsync,
    isLoading: submitContactForm.isPending,
    isError: submitContactForm.isError,
    error: submitContactForm.error,
  };
}
```

### localStorage Fallback

```typescript
// Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­Ù„ÛŒ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ±
private storeContactSubmissionLocally(data: ContactFormData): string {
  const submissions = this.getContactSubmissionsFromStorage();
  const newSubmission = {
    id: `local_${Date.now()}`,
    ...data,
    timestamp: new Date().toISOString(),
    synced: false
  };
  
  submissions.push(newSubmission);
  localStorage.setItem('contactSubmissions', JSON.stringify(submissions));
  
  return newSubmission.id;
}
```

---

## ğŸ”’ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ùˆ Ø§Ù…Ù†ÛŒØª

### Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Frontend

```typescript
// Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù†Ø§Ù… ÙØ§Ø±Ø³ÛŒ
const validatePersianTitle = (title: string): PersianValidationResult => {
  const errors: string[] = [];
  const trimmedTitle = title.trim();

  if (!trimmedTitle) {
    errors.push('Ù†Ø§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯');
  } else if (trimmedTitle.length < 2) {
    errors.push('Ù†Ø§Ù… Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û² Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯');
  } else if (trimmedTitle.length > 100) {
    errors.push('Ù†Ø§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨ÛŒØ´ Ø§Ø² Û±Û°Û° Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯');
  }

  return { isValid: errors.length === 0, errors };
};

// Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø§ÛŒÙ…ÛŒÙ„
const validateEmail = (email: string): PersianValidationResult => {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  const errors: string[] = [];

  if (!email.trim()) {
    errors.push('Ø§ÛŒÙ…ÛŒÙ„ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯');
  } else if (!emailRegex.test(email)) {
    errors.push('ÙØ±Ù…Øª Ø§ÛŒÙ…ÛŒÙ„ ØµØ­ÛŒØ­ Ù†ÛŒØ³Øª');
  }

  return { isValid: errors.length === 0, errors };
};
```

### Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Backend (Zod)

```typescript
const contactCreateSchema = z.object({
  name: z.string()
    .min(2, 'Ù†Ø§Ù… Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û² Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯')
    .max(100, 'Ù†Ø§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨ÛŒØ´ Ø§Ø² Û±Û°Û° Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯'),
  email: z.string().email('ÙØ±Ù…Øª Ø§ÛŒÙ…ÛŒÙ„ ØµØ­ÛŒØ­ Ù†ÛŒØ³Øª'),
  message: z.string()
    .min(10, 'Ù¾ÛŒØ§Ù… Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û±Û° Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯')
    .max(2000, 'Ù¾ÛŒØ§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨ÛŒØ´ Ø§Ø² Û²Û°Û°Û° Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯'),
  userAgent: z.string().optional(),
  ipAddress: z.string().optional(),
  userId: z.string().optional()
});
```

### Ø§Ù…Ù†ÛŒØª

- **Rate Limiting**: Ù…Ø­Ø¯ÙˆØ¯ÛŒØª ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
- **Input Sanitization**: Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
- **Security Logging**: Ø«Ø¨Øª Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ
- **CORS Protection**: Ø­ÙØ§Ø¸Øª Ø§Ø² Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ cross-origin

---

## ğŸ§ª ØªØ³Øªâ€ŒÙ‡Ø§

### Unit Tests

```typescript
describe('ContactForm Component', () => {
  it('Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø®Ø§Ù„ÛŒ', async () => {
    const user = userEvent.setup();
    renderWithQueryClient(<ContactForm onSubmit={mockSubmit} />);

    const submitButton = screen.getByRole('button', { name: /Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…/i });
    await user.click(submitButton);

    await waitFor(() => {
      expect(screen.getByText('Ù†Ø§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯')).toBeInTheDocument();
      expect(screen.getByText('Ø§ÛŒÙ…ÛŒÙ„ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯')).toBeInTheDocument();
      expect(screen.getByText('Ù¾ÛŒØ§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯')).toBeInTheDocument();
    });
  });

  it('Ø§Ø±Ø³Ø§Ù„ Ù…ÙˆÙÙ‚ ÙØ±Ù… Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹ØªØ¨Ø±', async () => {
    const user = userEvent.setup();
    mockSubmit.mockResolvedValue(undefined);

    renderWithQueryClient(<ContactForm onSubmit={mockSubmit} />);

    await user.type(screen.getByPlaceholderText('Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯'), 'Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ');
    await user.type(screen.getByPlaceholderText('Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯'), 'ali@example.com');
    await user.type(screen.getByPlaceholderText('Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...'), 'Ù¾ÛŒØ§Ù… ØªØ³Øª Ú©Ø§Ù…Ù„');

    await user.click(screen.getByRole('button', { name: /Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…/i }));

    await waitFor(() => {
      expect(mockSubmit).toHaveBeenCalledWith({
        name: 'Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ',
        email: 'ali@example.com',
        message: 'Ù¾ÛŒØ§Ù… ØªØ³Øª Ú©Ø§Ù…Ù„'
      });
    });
  });
});
```

### Integration Tests

```typescript
describe('Contact Page Integration', () => {
  it('ØªØ¹Ø§Ù…Ù„ Ø¨ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù ØµÙØ­Ù‡', async () => {
    const user = userEvent.setup();
    renderWithQueryClient(<ContactPage />);

    // ØªØ³Øª ÙØ±Ù… ØªÙ…Ø§Ø³
    const nameInput = screen.getByPlaceholderText('Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
    await user.type(nameInput, 'Ú©Ø§Ø±Ø¨Ø± ØªØ³Øª');
    expect(nameInput).toHaveValue('Ú©Ø§Ø±Ø¨Ø± ØªØ³Øª');

    // ØªØ³Øª FAQ
    const faqQuestion = screen.getByText(/Ú†Ú¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¯Ø± Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ Ø´Ø±Ú©Øª Ú©Ù†Ù…ØŸ/);
    await user.click(faqQuestion);
    
    await waitFor(() => {
      expect(screen.getByText(/Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ØŒ Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ø³Ø§Ù…Ø§Ù†Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯/))
        .toBeInTheDocument();
    });
  });
});
```

### Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§

```bash
# ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ unit
npm run test -- --testPathPattern=contact.test.tsx

# ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ integration
npm run test:integration

# ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ e2e Ø¨Ø§ Cypress
npm run cypress:run -- --spec="cypress/e2e/contact.cy.ts"
```

---

## ğŸš€ Ø§Ø³ØªÙ‚Ø±Ø§Ø±

### Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ

```bash
# Frontend (.env.local)
NEXT_PUBLIC_API_URL=https://api.exam-edu.ir

# Backend (.env)
PARSE_APP_ID=your-parse-app-id
PARSE_MASTER_KEY=your-master-key
PARSE_SERVER_URL=https://parseapi.back4app.com
```

### Docker Deployment

```dockerfile
# Dockerfile Ø¨Ø±Ø§ÛŒ production
FROM node:18-alpine

WORKDIR /app

# Copy package files
COPY package*.json ./
RUN npm ci --only=production

# Copy source code
COPY . .

# Build application
RUN npm run build

# Expose port
EXPOSE 3000

# Start application
CMD ["npm", "start"]
```

### Nginx Configuration

```nginx
server {
    listen 80;
    server_name exam-edu.ir;

    location /api/contact {
        proxy_pass http://localhost:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        
        # Rate limiting
        limit_req zone=contact_limit burst=5 nodelay;
    }

    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## âš¡ Ù†Ú©Ø§Øª Ø¹Ù…Ù„Ú©Ø±Ø¯

### Optimization Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒâ€ŒÙ‡Ø§

1. **React.memo** Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² re-render ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ:
```typescript
export const ContactForm = React.memo<ContactFormProps>(({ onSubmit, isLoading }) => {
  // Component implementation
});
```

2. **useCallback** Ø¨Ø±Ø§ÛŒ memoization ØªÙˆØ§Ø¨Ø¹:
```typescript
const handleSubmit = useCallback(async (e: React.FormEvent) => {
  e.preventDefault();
  if (!validateForm()) return;
  
  try {
    await onSubmit(formData);
    // Success handling
  } catch (error) {
    // Error handling
  }
}, [formData, onSubmit, validateForm]);
```

3. **React Query** Ø¨Ø±Ø§ÛŒ cache management:
```typescript
const { data, isLoading, error } = useQuery({
  queryKey: ['contact', 'recent'],
  queryFn: () => contactApi.getRecentSubmissions(),
  staleTime: 5 * 60 * 1000, // 5 minutes
  cacheTime: 10 * 60 * 1000, // 10 minutes
});
```

### Performance Metrics

- **First Contentful Paint**: < 1.5s
- **Largest Contentful Paint**: < 2.5s
- **Cumulative Layout Shift**: < 0.1
- **Time to Interactive**: < 3s

### Bundle Size Optimization

```bash
# ØªØ­Ù„ÛŒÙ„ bundle size
npm run analyze

# Ù†ØªØ§ÛŒØ¬ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø±:
# ContactForm: ~15KB gzipped
# FAQAccordion: ~12KB gzipped
# Contact Page: ~25KB gzipped
```

---

## ğŸ“ˆ Ø¢Ù…Ø§Ø± Ùˆ Ù†Ø¸Ø§Ø±Øª

### Performance Monitoring

```typescript
// Performance tracking
const trackContactFormSubmission = () => {
  if (typeof window !== 'undefined' && window.gtag) {
    window.gtag('event', 'contact_form_submit', {
      event_category: 'engagement',
      event_label: 'contact_form',
      value: 1
    });
  }
};
```

### Error Tracking

```typescript
// Error logging
const logContactError = (error: Error, context: string) => {
  console.error(`[CONTACT_ERROR] ${context}:`, error);
  
  if (process.env.NODE_ENV === 'production') {
    // Send to error tracking service (e.g., Sentry)
    Sentry.captureException(error, {
      tags: {
        component: 'contact_system',
        context
      }
    });
  }
};
```

---

## ğŸ”® Ø¢ÛŒÙ†Ø¯Ù‡â€ŒÙ†Ú¯Ø±ÛŒ

### ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ

1. **Real-time Notifications**: Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ ÙÙˆØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
2. **File Upload**: Ø§Ù…Ú©Ø§Ù† Ø¶Ù…ÛŒÙ…Ù‡ Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„
3. **Chatbot Integration**: Ø±Ø¨Ø§Øª Ù¾Ø§Ø³Ø®Ú¯Ùˆ Ù‡ÙˆØ´Ù…Ù†Ø¯
4. **Multi-language Support**: Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…ØªØ¹Ø¯Ø¯
5. **Advanced Analytics**: ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡â€ŒØªØ±

### Technical Debt

- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† middleware Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ú©Ø§Ù…Ù„
- [ ] Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ WebSocket Ø¨Ø±Ø§ÛŒ real-time updates
- [ ] Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨ÛŒØ´ØªØ± Ø¨Ø±Ø§ÛŒ mobile performance
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Progressive Web App features

---

## ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

Ø¨Ø±Ø§ÛŒ Ø³ÙˆØ§Ù„Ø§Øª ÙÙ†ÛŒ ÛŒØ§ Ú¯Ø²Ø§Ø±Ø´ Ù…Ø´Ú©Ù„Ø§Øª:

- **Email**: dev@exam-edu.ir
- **GitHub**: [exam-edu/contact-system](https://github.com/exam-edu/contact-system)
- **Documentation**: [docs.exam-edu.ir/contact](https://docs.exam-edu.ir/contact)

---

*Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: Û²Û· Ø¯ÛŒ Û±Û´Û°Û³ - Ù†Ø³Ø®Ù‡ Û±.Û¶.Û°* 